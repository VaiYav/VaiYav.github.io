(this["webpackJsonpthorswap-app"]=this["webpackJsonpthorswap-app"]||[]).push([[6],{1655:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a={average:.67,fast:1,fastest:1.5},c=function(e){var t,n=e.inboundData,a=e.chain,c=n.find((function(e){return e.chain===a}));return Number(null!==(t=null===c||void 0===c?void 0:c.gas_rate)&&void 0!==t?t:0)},o=function(e){var t=e.inboundData,n=e.chain,o=e.feeOptionType;return c({inboundData:t,chain:n})*a[o]}},1656:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var a=n(0),c=n(21),o=n(148),i=n(99),s=n(1655),r=function(e){var t=e.inputAsset,n=e.outputAsset,r=Object(o.a)().feeOptionType,u=Object(i.a)(),l=u.inboundData,d=u.pools,b=Object(a.useMemo)((function(){var e=Object(s.b)({inboundData:l,chain:t.chain,feeOptionType:r});return c.NetworkFee.getNetworkFeeByAsset({asset:t,gasRate:e,direction:"inbound"})}),[t,l,r]),j=Object(a.useMemo)((function(){if(!n)return null;var e=Object(s.a)({inboundData:l,chain:n.chain});return c.NetworkFee.getNetworkFeeByAsset({asset:n,gasRate:e,direction:"outbound"})}),[n,l]),p=Object(a.useMemo)((function(){if(!j)return b;var e=new c.AssetAmount(t,c.Amount.fromAssetAmount(j.totalPriceIn(t,d).price,t.decimal));return b.asset.eq(t)?b.add(e):new c.AssetAmount(t,c.Amount.fromAssetAmount(b.totalPriceIn(t,d).price,t.decimal)).add(e)}),[t,b,j,d]),f=Object(a.useMemo)((function(){return p.totalPriceIn(c.Asset.USD(),d)}),[p,d]);return{totalFee:p,inboundFee:b,outboundFee:j,totalFeeInUSD:f}},u=function(e,t,n){var a=null===e||void 0===e?void 0:e.totalPriceIn(c.Asset.USD(),n),o=null===t||void 0===t?void 0:t.totalPriceIn(c.Asset.USD(),n);if(null===e&&o)return o.toCurrencyFormat();if(null===t&&a)return a.toCurrencyFormat();if(a&&o){var i=a.raw().plus(o.raw());return c.Amount.fromAssetAmount(i,8).toFixed(2)}return c.Amount.fromAssetAmount(0,8).toFixed()}},1658:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),c=n(112),o=n(21),i=n(128),s=n(1655),r=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.app})).feeOptionType,n=Object(c.c)((function(e){return e.wallet})).wallet,r=Object(c.c)((function(e){return e.midgard})).inboundData,u=Object(a.useCallback)((function(t){e(i.getWalletByChain(t))}),[e]),l=Object(a.useCallback)((function(){e(i.loadAllWallets())}),[e]);return{getMaxBalance:Object(a.useCallback)((function(e){if(!(null===n||void 0===n?void 0:n[e.chain]))return o.Amount.fromAssetAmount(Math.pow(10,8),8);var a=Object(s.b)({inboundData:r,chain:e.chain,feeOptionType:t}),c=o.NetworkFee.getNetworkFeeByAsset({asset:e,gasRate:a,direction:"inbound"}),i=Object(o.getAssetBalance)(e,n).amount,u=e.isGasAsset()?i.sub(c.mul(1.5).amount):i;return u.gt(0)?u:o.Amount.fromAssetAmount(0,e.decimal)}),[n,t,r]),reloadAllBalance:l,reloadBalanceByChain:u,wallet:n}}},1678:function(e,t,n){"use strict";n.r(t);var a,c,o=n(2),i=n.n(o),s=n(16),r=n(26),u=n(0),l=n(82),d=n(287),b=n(21),j=n(99),p=n(157),f=n(1658),O=n(1656),m=n(58),h=n(47),x=n(9),v=n(5),g=n(6),y=n(44),A=Object(v.d)(d.Panel).withConfig({displayName:"Sendstyle__Container",componentId:"vq3hn8-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;background:",";margin-left:auto;margin-right:auto;padding-top:0px;border-radius:14px;border:1px solid ",";"],Object(g.palette)("background",0),Object(g.palette)("gray",0)),C=v.d.div.withConfig({displayName:"Sendstyle__ContentPanel",componentId:"vq3hn8-1"})(["display:flex;flex-direction:column;width:100%;padding:16px 8px 8px 8px;",""],y.a.sm(a||(a=Object(x.a)(["\n    padding: 16px 12px 4px 12px;\n  "])))),w=v.d.div.withConfig({displayName:"Sendstyle__PoolSelect",componentId:"vq3hn8-2"})(["display:flex;justify-content:space-between;align-items:center;padding:8px 16px;"]),k=v.d.div.withConfig({displayName:"Sendstyle__FormItem",componentId:"vq3hn8-3"})(["display:flex;flex-direction:column;margin:8px 0;"]),S=Object(v.d)(d.Label).attrs({weight:"bold"}).withConfig({displayName:"Sendstyle__FormLabel",componentId:"vq3hn8-4"})(["margin-bottom:8px;"]),M=v.d.div.withConfig({displayName:"Sendstyle__ConfirmModalContent",componentId:"vq3hn8-5"})(["display:flex;flex-direction:column;padding:10px;"]),F=v.d.div.withConfig({displayName:"Sendstyle__MemoTypes",componentId:"vq3hn8-6"})(["display:flex;align-items:center;justify-content:space-between;width:130px;"]),I=v.d.div.withConfig({displayName:"Sendstyle__ConfirmButtonContainer",componentId:"vq3hn8-7"})(["display:flex;justify-content:center;align-items:center;width:100%;padding:0 2%;margin-top:14px;button{flex:1;}"]),N=n(1);!function(e){e[e.NORMAL=0]="NORMAL",e[e.EXPERT=1]="EXPERT"}(c||(c={}));var T=function(e){var t=e.sendAsset,n=e.wallet,a=Object(l.f)(),o=Object(j.a)().pools,p=Object(f.a)().getMaxBalance,x=Object(u.useMemo)((function(){return p(t)}),[t,p]),v=Object(O.b)({inputAsset:t}),g=v.inboundFee,y=v.totalFeeInUSD,T=Object(u.useMemo)((function(){var e=o.map((function(e){return e.asset}));return e.push(b.Asset.RUNE()),e}),[o]),P=Object(u.useState)(c.NORMAL),R=Object(r.a)(P,2),_=R[0],B=R[1],D=Object(u.useMemo)((function(){return _===c.EXPERT}),[_]),E=Object(u.useState)(b.Amount.fromAssetAmount(0,8)),L=Object(r.a)(E,2),q=L[0],U=L[1],z=Object(u.useState)(0),W=Object(r.a)(z,2),X=W[0],G=W[1],H=Object(u.useState)(""),J=Object(r.a)(H,2),V=J[0],K=J[1],Q=Object(u.useState)(""),Y=Object(r.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(u.useMemo)((function(){return D?Z:V}),[D,Z,V]),te=Object(u.useState)(""),ne=Object(r.a)(te,2),ae=ne[0],ce=ne[1],oe=Object(u.useState)(!1),ie=Object(r.a)(oe,2),se=ie[0],re=ie[1],ue=Object(u.useState)(t),le=Object(r.a)(ue,2),de=le[0],be=le[1],je=Object(u.useMemo)((function(){return Object(b.getWalletAssets)(n)}),[n]),pe=Object(u.useMemo)((function(){return n?Object(b.getAssetBalance)(t,n).amount:b.Amount.fromAssetAmount(0,8)}),[t,n]);Object(u.useEffect)((function(){D&&function(){var e=Object(s.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.getInboundDataByChain(t.chain);case 2:n=e.sent,a=n.address,$(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[D,t]);var fe=Object(u.useCallback)((function(e){a.push(Object(h.y)(e))}),[a]),Oe=Object(u.useCallback)((function(e){be(e),ce("")}),[]),me=Object(u.useCallback)((function(e){e.gt(x)?(U(x),G(100)):(U(e),G(e.div(x).mul(100).assetAmount.toNumber()))}),[x]),he=Object(u.useCallback)((function(e){G(e);var t=x.mul(e).div(100);U(t)}),[x]),xe=Object(u.useCallback)((function(){he(100)}),[he]),ve=Object(u.useCallback)((function(e){var t=e.target.value;"pool"===t?B(c.EXPERT):(B(c.NORMAL),$("")),K(t)}),[]),ge=Object(u.useCallback)((function(e){var t=e.target.value;$(t)}),[]),ye=Object(u.useCallback)((function(e){ce(e.target.value)}),[]),Ae=Object(u.useCallback)(Object(s.a)(i.a.mark((function e(){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re(!1),!t){e.next=14;break}return n=new b.AssetAmount(t,q),e.prev=3,e.next=6,m.a.send({assetAmount:n,recipient:ee,memo:ae});case 6:a=e.sent,c=m.a.getExplorerTxUrl(t.chain,a),Object(d.Notification)({type:"open",message:"View Send Tx.",description:"Transaction sent successfully!",btn:Object(N.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:"View Transaction"}),duration:20}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),Object(d.Notification)({type:"error",message:"Send Transaction Failed.",description:null===e.t0||void 0===e.t0?void 0:e.t0.toString(),duration:20});case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),[t,q,ee,ae]),Ce=Object(u.useCallback)((function(){re(!1)}),[]),we=Object(u.useCallback)((function(){D||m.a.validateAddress({chain:t.chain,address:ee})?re(!0):Object(d.Notification)({type:"warning",message:"Recipient Address is not valid ".concat(t.chain," Address, please check your address again."),duration:20})}),[D,t,ee]),ke=Object(u.useCallback)((function(){ce(b.Memo.depositMemo(t))}),[t]),Se=Object(u.useCallback)((function(){if(de){var e=Object(b.getWalletAddressByChain)(n,de.chain)||"";ce(b.Memo.swapMemo(de,e))}}),[de,n]),Me=Object(u.useMemo)((function(){return Object(N.jsxs)(M,{children:[Object(N.jsx)(d.Information,{title:"Send",description:"".concat(q.toSignificant(6)," ").concat(t.ticker.toUpperCase())}),Object(N.jsx)(d.Information,{title:"Recipient",description:"".concat(V.substr(0,3),"...").concat(V.substr(-3))}),Object(N.jsx)(d.Information,{title:"Transaction Fee",description:"".concat(g.toCurrencyFormat()," (").concat(y.toCurrencyFormat(2),")"),tooltip:"Gas fee to send the transaction, There's no extra charges from THORChain Protocol"})]})}),[q,g,t,y,V]),Fe=Object(u.useMemo)((function(){return"".concat(t.ticker," (").concat(t.type,")")}),[t]);return Object(N.jsxs)(A,{children:[Object(N.jsx)(d.Helmet,{title:"Send ".concat(Fe),content:"Send ".concat(Fe)}),Object(N.jsxs)(d.ContentTitle,{justifyContent:"space-between",hasPadding:!0,children:[Object(N.jsxs)(d.Label,{size:"large",weight:"bold",children:["Send ",Fe]}),Object(N.jsx)(d.SettingsOverlay,{})]}),Object(N.jsxs)(C,{children:[Object(N.jsx)(d.AssetInputCard,{title:"send",asset:t,assets:je,amount:q,balance:pe,onChange:me,onSelect:fe,onMax:xe,wallet:n||void 0}),Object(N.jsx)(d.Slider,{value:X,onChange:he,withLabel:!0}),D&&Object(N.jsxs)(w,{children:[Object(N.jsx)(d.Label,{size:"big",align:"center",children:"Output Asset"}),Object(N.jsx)(d.AssetSelect,{asset:de,assets:T,onSelect:Oe})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Recipient"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:V,onChange:ve,placeholder:"Recipient"})]}),D&&Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Pool Address"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:Z,onChange:ge,placeholder:"Pool Address"})]}),D&&Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Select Memo Type"}),Object(N.jsxs)(F,{children:[Object(N.jsx)(d.Button,{sizevalue:"small",color:"primary",typevalue:"outline",onClick:ke,children:"Deposit"}),Object(N.jsx)(d.Button,{sizevalue:"small",color:"primary",typevalue:"outline",onClick:Se,children:"Swap"})]})]}),Object(N.jsxs)(k,{children:[Object(N.jsx)(S,{children:"Memo"}),Object(N.jsx)(d.Input,{typevalue:"ghost",sizevalue:"big",value:ae,onChange:ye,placeholder:"Memo"})]}),Object(N.jsx)(k,{children:Object(N.jsx)(d.Information,{title:"Transaction Fee",description:"".concat(g.toCurrencyFormat()," (").concat(y.toCurrencyFormat(2),")"),tooltip:"Gas fee to send the transaction, There's no extra charges from THORChain Protocol"})}),Object(N.jsx)(I,{children:Object(N.jsx)(d.FancyButton,{onClick:we,error:!1,children:"Send"})})]}),Object(N.jsx)(d.ConfirmModal,{visible:se,onOk:Ae,onCancel:Ce,inputAssets:[t],children:Me})]})},P=function(){var e=Object(l.h)().asset,t=Object(p.a)().wallet,n=Object(u.useState)(),a=Object(r.a)(n,2),c=a[0],o=a[1];Object(u.useEffect)((function(){(function(){var t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=b.Asset.fromAssetString(e))){t.next=5;break}return t.next=4,n.setDecimal();case 4:o(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var j=Object(u.useMemo)((function(){return c&&Object(b.hasWalletConnected)({wallet:t,inputAssets:[c]})}),[t,c]);return c?t&&j?Object(N.jsx)(T,{sendAsset:c,wallet:t}):Object(N.jsx)(A,{children:Object(N.jsx)(d.Label,{children:"Please connect a wallet."})}):null};t.default=P}}]);
//# sourceMappingURL=6.fb36513c.chunk.js.map